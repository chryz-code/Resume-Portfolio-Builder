{% extends 'navs/base-nav.html' %} {% load static %} {% block title %} <title>CV Build || Sign Up</title> {% endblock %}
{% block content %}
<div class="container">
  <form action="" method="post" class="auth-form">
    {% csrf_token %}
    <div class="form-top">
      <p>Sign Up</p>
    </div>
    <div class="form-input-container">
      <span><label for="first_name">First Name</label> <span class="form-required-field">*</span></span>
      <p class="form-errors">{{ form.first_name.errors }}</p>
      <!-- <input type="text" name="first_name" id="first_name" placeholder="John" /> -->
      {{form.first_name}}
    </div>

    <div class="form-input-container">
      <span><label for="last_name">Last Name</label> <span class="form-required-field">*</span></span>
      <p class="form-errors">{{ form.last_name.errors }}</p>
      <!-- <input type="text" name="last_name" id="last_name" placeholder="Doe" /> -->
      {{form.last_name}}
    </div>

    <div class="form-input-container">
      <span><label for="email">Email</label> <span class="form-required-field">*</span></span>
      <p class="form-errors">{{ form.email.errors }}</p>
      <!-- <input type="text" name="email" id="email" placeholder="johndoe@gmail.com" /> -->
      {{ form.email}}
    </div>

    <div class="form-input-container">
      <span><label for="password">Password</label> <span class="form-required-field">*</span></span>
      <p class="form-errors">{{ form.password.errors }}</p>
      <!-- <input type="password" name="password" id="password" placeholder="********" /> -->
      {{form.password}}
    </div>

    <div class="form-input-container">
      <span><label for="password2">Confirm Password</label> <span class="form-required-field">*</span></span>
      <p class="form-errors">{{ form.password2.errors }}</p>
      <!-- <input type="password" name="password2" id="password2" placeholder="********" /> -->
      {{form.password2}}
    </div>

    <button class="form-btn btn" type="submit">Sign Up</button>
  </form>

  <div class="form-bottom">
    <a href="{% url 'login' %}">Already have an account?</a>
  </div>
</div>

<script>
  const pword1 = document.querySelector("#id_password");
  const pword2 = document.querySelector("#id_password2");
  if (pword1 && pword2) {
    const form = document.querySelector("form");
    form.addEventListener("mouseover", e => {
      const btn = form.querySelector("button");
      pword2.addEventListener("keyup", e => {
        if (pword2.value !== pword1.value) {
          pword2.previousElementSibling.textContent = "Password does not match";
          btn.style.cursor = "not-allowed";
          btn.style.pointerEvents = "none";
        } else {
          pword2.previousElementSibling.textContent = "";
          btn.style.cursor = "pointer";
          btn.style.pointerEvents = "all";
        }
      });
    });
  }
</script>
{% endblock %}
